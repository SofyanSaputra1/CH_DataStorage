<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <!-- Tell the browser to be responsive to screen width -->
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="description" content="">
        <meta name="author" content="">
        <!-- Favicon icon -->
        <link rel="icon" type="image/png" sizes="16x16" href="assets/favicon.png">
        <title>Collective Health</title>
        <!-- Bootstrap Core CSS -->
        <link href="css/lib/bootstrap/bootstrap.min.css" rel="stylesheet">
        <!-- Custom CSS -->
        <link href="css/lib/calendar2/semantic.ui.min.css" rel="stylesheet">
        <link href="css/lib/calendar2/pignose.calendar.min.css" rel="stylesheet">
        <link href="css/lib/owl.carousel.min.css" rel="stylesheet" />
        <link href="css/lib/owl.theme.default.min.css" rel="stylesheet" />
        <link href="css/helper.css" rel="stylesheet">
        <link href="css/style.css" rel="stylesheet">
        <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!-- WARNING: Respond.js doesn't work if you view the page via file:** -->
        <!--[if lt IE 9]>
        <script src="https:**oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https:**oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
        <![endif]-->
        <!-- Hi Charts -->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
        <script src="https://code.highcharts.com/highcharts.js"></script>
        <script src="assets/barchart.js"></script>

        <style>
        .massive-font{
        font-size: 30px;
        text-align: center;
        }
        
        .progress{
        height:50px;
        text-align:center;
        }
        .progress-bar {
        padding:15px;
        }
        </style>
    </head>
    <body class="fix-header fix-sidebar">
        <!-- Preloader - style you can find in spinners.css -->
        <div class="preloader">
            <svg class="circular" viewBox="25 25 50 50">
            <circle class="path" cx="50" cy="50" r="20" fill="none" stroke-width="2" stroke-miterlimit="10" /> </svg>
        </div>
        <!-- Main wrapper  -->
        <div id="main-wrapper">
            <!-- header header  -->
            <div class="header" style="width: 100%; text-align: center;">
                <!-- Logo -->
                <span class="align-self-center" style="display: flex; flex-direction: row; justify-content: center; align-items: center; ">
                    <img src="assets/logo.png" style="text-align: center; margin-bottom: 2em; margin-top: 2em; "/> <h1 style="text-align: center; color:teal; font-weight: bold; font-size: 5em;">&nbspResearcher Dashboard</h1>
                </span>
                <!-- End Logo -->
            </div>
            <!-- End header header -->
            <!-- Container fluid  -->
            <div class="container-fluid">
                <div class="row">
                    <div class="col-lg-12">
                        <div class="card">
                            <div class="card-body">
                                <div class="row">
                                    <!-- Column -->
                                    <div class="col-lg-12 p-r-40 m-t-30 m-b-30">
                                        <h1><b>Data Gathering Progress</b></h1>
                                        <h2 id="progress-text" class="m-t-30" id="progressH2">999 data points gathered from patients out of goal of 1000 </h2>
                                        <div class="progress">
                                            <div id="progressBar" class="progress-bar bg-success wow animated progress-animated massive-font" style="width: 99%; height:100%;" role="progressbar"> 999/1000 Patients 
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div id='mainData'></div>
                <script>
                        $(document).ready(function() {
                            var patientDataCollected = 999;
                            var patientDataGoal = 1000;
                            document.getElementById("progressH2").innerHTML = String(patientDataCollected) + ' data points gathered from patients out of goal of ' + String(patientDataGoal);
                            document.getElementById("progressBar").style.width = String(patientDataCollected/patientDataGoal*100)+"%";
                            document.getElementById("progressBar").innerHTML = patientDataCollected + '/' + patientDataGoal;

                            console.log("test");
                            
                        var HTML100 = `<!-- 100% Data Availability -->
                        <div class="row">
                            <!-- Relapse Bar Chart Data -->
                            <div class="col-lg-6">
                                <div class="card">
                                    <div class="card-body" style="width:100%; height:400px;">
                                        <div id="container" ></div>
                                    </div>
                                </div>
                            </div>

                            <!-- Tabular Data Results -->
                            <div class="col-lg-6">
                                <div class="card">
                                    <div class="card-body">
                                        <h4 class="card-title">Study Data Results</h4>
                                        <div class="table-responsive m-t-20" style="height:360px;">
                                            <table id="example23" class="table table-striped">
                                                <thead>
                                                    <tr>
                                                        <th>Date of Prognosis</th>
                                                        <th>Medication Regiment</th>
                                                        <th># of Cycles</th>
                                                        <th>5 year relapse free survival</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr>
                                                        <td>6/9/18</td>
                                                        <td>Abraxane</td>
                                                        <td>5</td>
                                                        <td>yes</td>
                                                    </tr>
                                                    <tr>
                                                        <td>6/9/18</td>
                                                        <td>Cytoxan</td>
                                                        <td>6</td>
                                                        <td>no</td>
                                                    </tr>
                                                    <tr>
                                                        <td>5/31/18</td>
                                                        <td>Daunorubicin</td>
                                                        <td>4</td>
                                                        <td>yes</td>
                                                    </tr>
                                                    <tr>
                                                        <td>5/21/18</td>
                                                        <td>Doxil</td>
                                                        <td>6</td>
                                                        <td>yes</td>
                                                    </tr>
                                                    <tr>
                                                        <td>5/31/18</td>
                                                        <td>Daunorubicin</td>
                                                        <td>4</td>
                                                        <td>yes</td>
                                                    </tr>
                                                    <tr>
                                                        <td>5/21/18</td>
                                                        <td>Doxil</td>
                                                        <td>6</td>
                                                        <td>yes</td>
                                                    </tr>
                                                    <tr>
                                                        <td>5/21/18</td>
                                                        <td>Doxil</td>
                                                        <td>6</td>
                                                        <td>yes</td>
                                                    </tr>
                                                    <tr>
                                                        <td>5/31/18</td>
                                                        <td>Daunorubicin</td>
                                                        <td>4</td>
                                                        <td>yes</td>
                                                    </tr>
                                                    <tr>
                                                        <td>5/21/18</td>
                                                        <td>Doxil</td>
                                                        <td>6</td>
                                                        <td>yes</td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>`;

                        var NOTHTML100 = `<!-- Not 100% Data Availability -->
                        <div class="row">
                            <!-- High Level Data Description -->
                            <div class="col-lg-6">
                                <div class="card">
                                    <div class="card-body" style="width:100%; height:700px; overflow-y: scroll;">
                                        <h2 style="text-align: center; font-weight: bold;"> Impact of Adjuvant Chemotherapy Cycles on Prognosis of Resectable Stomach Cancer
                                            <h2><b>Reward: CHC 2,000</b></h2>
                                            <h2>
                                                <b>Organization:</b> The Global Advanced/Adjuvant Stomach Tumor Research International Collaboration (GASTRIC) <br /><br />
                                                <b>Researcher Name(s):</b> Wen-Ying Zhang, Wen-Jun Zhang, Yu Bai <br /><br />
                                                <b>Sample size: </b>1000<br /><br />
                                                <b>Purpose:</b>  The aim of this study is to investigate the effects of adjuvant chemotherapy cycles on the prognosis of patients with post-operative stomach cancer through retrospective analysis.  No clear guidelines exist as to how many cycles of chemotherapy to administer following gastric tumor resection.  Patients with gastric cancer who underwent gastrectomy, followed by adjuvant chemotherapy consisting of epirubicin, cisplatin or oxaliplatin, leucovorin, and 5- uorouracil, according to a de ned schedule, were divided into three groups according to the number of chemotherapy cycles: Group I (<6 cycles); Group II (6 cycles); and Group III (>6 cycles).  Our primary endpoint is the 5 year relapse-free survival rate of patients. <br /><br />
                                            </h2>
                                    </div>
                                </div>
                            </div>

                            <!-- Field Inclusion Criteria -->
                            <div class="col-lg-6">
                                <div class="card">
                                    <div class="card-body" style="width:100%; height:700px; overflow-y: scroll;">
                                        <h2 style="text-align: center; font-weight: bold;"> Field Inclusion Criteria </h2>
                                            <h2>
                                                <b>Diagnosis Name: </b> Gastric Cancer <br /><br />
                                                <b>Diagnosis Date:</b> Over 5 years ago <br /><br />
                                                <b>Medication Taken: </b>epirubicin, cisplatin, leucovorin, 5-Fluorouracil
                                                OR epirubicin, oxaloplatin, leucovorin, 5-Fluorouracil<br /><br />
                                                <b>Medication Taken Date:</b>  After date of first diagnosis <br /><br />
                                                <b>Medication Indication:</b>  Gastric Cancer <br /><br />
                                            </h2>
                                    </div>
                                </div>
                            </div>
                    </div>`;

                        if(patientDataCollected >= patientDataGoal){
                           $('#mainData').append(HTML100);
                        } else if(patientDataCollected < patientDataGoal) {
                           $('#mainData').append(NOTHTML100);
                        }
                    });
                </script>
                <!-- End Container fluid  -->
            </div>
            <!-- footer -->
        <footer class="footer"> © 2018 Collective Health</footer>
        <!-- End footer -->
        <!-- End Wrapper -->
    </div>
    <!-- All Jquery -->
    <script src="js/lib/jquery/jquery.min.js"></script>
    <!-- Bootstrap tether Core JavaScript -->
    <script src="js/lib/bootstrap/js/popper.min.js"></script>
    <script src="js/lib/bootstrap/js/bootstrap.min.js"></script>
    <!-- slimscrollbar scrollbar JavaScript -->
    <script src="js/jquery.slimscroll.js"></script>
    <!--Menu sidebar -->
    <script src="js/sidebarmenu.js"></script>
    <!--stickey kit -->
    <script src="js/lib/sticky-kit-master/dist/sticky-kit.min.js"></script>
    <!--Custom JavaScript -->
    <!-- Amchart -->
    <script src="js/lib/morris-chart/raphael-min.js"></script>
    <script src="js/lib/morris-chart/morris.js"></script>
    <script src="js/lib/morris-chart/dashboard1-init.js"></script>
    <script src="js/lib/calendar-2/moment.latest.min.js"></script>
    <!-- scripit init-->
    <script src="js/lib/calendar-2/semantic.ui.min.js"></script>
    <!-- scripit init-->
    <script src="js/lib/calendar-2/prism.min.js"></script>
    <!-- scripit init-->
    <script src="js/lib/calendar-2/pignose.calendar.min.js"></script>
    <!-- scripit init-->
    <script src="js/lib/calendar-2/pignose.init.js"></script>
    <script src="js/lib/owl-carousel/owl.carousel.min.js"></script>
    <script src="js/lib/owl-carousel/owl.carousel-init.js"></script>
    <!-- scripit init-->
    <script src="js/scripts.js"></script>
    <!-- data tables-->
    <script src="js/lib/datatables/datatables.min.js"></script>
    <script src="js/lib/datatables/cdn.datatables.net/buttons/1.2.2/js/dataTables.buttons.min.js"></script>
    <script src="js/lib/datatables/cdn.datatables.net/buttons/1.2.2/js/buttons.flash.min.js"></script>
    <script src="js/lib/datatables/cdnjs.cloudflare.com/ajax/libs/jszip/2.5.0/jszip.min.js"></script>
    <script src="js/lib/datatables/cdn.rawgit.com/bpampuch/pdfmake/0.1.18/build/pdfmake.min.js"></script>
    <script src="js/lib/datatables/cdn.rawgit.com/bpampuch/pdfmake/0.1.18/build/vfs_fonts.js"></script>
    <script src="js/lib/datatables/cdn.datatables.net/buttons/1.2.2/js/buttons.html5.min.js"></script>
    <script src="js/lib/datatables/cdn.datatables.net/buttons/1.2.2/js/buttons.print.min.js"></script>
    <script src="js/lib/datatables/datatables-init.js"></script>

    <script>
      let params = (new URL(document.location)).searchParams;
      let name = params.get("o");
      console.log("NAME", name)

      if (!!name){
        // $("#progress-text").innerHTML = "999 data points gathered from patients out of goal of 1000";
        // $("#progressBar").innerHTML = "999/1000 Patients";
        // $("#progressBar").style = "width: 99%; height:100%;";
      }
    </script>
</body>
</html>